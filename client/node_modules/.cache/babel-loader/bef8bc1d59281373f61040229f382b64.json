{"ast":null,"code":"var _jsxFileName = \"E:\\\\000gitRepositorios\\\\WorkCodeForge\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport './login.css';\nimport './index.css';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SET_USER } from '../reducers/mapReducer';\nimport { BsGithub } from 'react-icons/bs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = process.env.REACT_APP_BACKEND_URL;\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    axios.get('/user').then(data => {\n      // console.log(data);\n      dispatch(SET_USER(data.data));\n    });\n  }, [dispatch]);\n\n  const fetchIp = async () => {\n    const request = await fetch('https://ipinfo.io/json?token=faa3194d71c80a');\n    const jsonResponse = await request.json();\n    console.log('jsonResponse.loc :>> ', jsonResponse.loc);\n    return jsonResponse.loc;\n  };\n\n  async function saveLoc(loc) {\n    console.log('loc :>> ', loc);\n    await axios.post('/loc', {\n      loc\n    }).then(res => {}).catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    const main = async () => {\n      const location = await fetchIp();\n      await saveLoc(location);\n    };\n\n    main();\n  }, []);\n  const userState = useSelector(state => {\n    console.log('state:', state);\n    return state.user;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background\",\n    children: [userState.name !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login\",\n          children: [/*#__PURE__*/_jsxDEV(BsGithub, {\n            className: \"github\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: process.env.REACT_APP_GITHUB_LOGIN,\n            children: ' Log in with Github'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stars-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"stars\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"stars2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"stars3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), userState.name !== '' ? /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/logout\",\n      children: \"logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 32\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 63\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"0hBlz66vielMVZtVkWWIj0zkFCY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["E:/000gitRepositorios/WorkCodeForge/client/src/pages/Login.js"],"names":["React","useEffect","axios","useDispatch","useSelector","SET_USER","BsGithub","defaults","baseURL","process","env","REACT_APP_BACKEND_URL","Login","dispatch","get","then","data","fetchIp","request","fetch","jsonResponse","json","console","log","loc","saveLoc","post","res","catch","err","main","location","userState","state","user","name","REACT_APP_GITHUB_LOGIN"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport './login.css';\r\nimport './index.css';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { SET_USER } from '../reducers/mapReducer';\r\nimport { BsGithub } from 'react-icons/bs';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_BACKEND_URL;\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    axios.get('/user').then((data) => {\r\n      // console.log(data);\r\n      dispatch(SET_USER(data.data));\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const fetchIp = async () => {\r\n    const request = await fetch('https://ipinfo.io/json?token=faa3194d71c80a');\r\n    const jsonResponse = await request.json();\r\n    console.log('jsonResponse.loc :>> ', jsonResponse.loc);\r\n    return jsonResponse.loc;\r\n  };\r\n  async function saveLoc(loc) {\r\n    console.log('loc :>> ', loc);\r\n    await axios\r\n      .post('/loc', { loc })\r\n      .then((res) => {})\r\n      .catch((err) => console.log(err));\r\n  }\r\n  useEffect(() => {\r\n    const main = async () => {\r\n      const location = await fetchIp();\r\n      await saveLoc(location);\r\n    };\r\n    main();\r\n  }, []);\r\n\r\n  const userState = useSelector((state) => {\r\n    console.log('state:', state);\r\n    return state.user;\r\n  });\r\n  return (\r\n    <div className=\"background\">\r\n      {userState.name !== '' ? (\r\n        <div></div>\r\n      ) : (\r\n        <>\r\n          <div className=\"login-container\">\r\n            <div className=\"login\">\r\n              <BsGithub className=\"github\" />\r\n              <a href={process.env.REACT_APP_GITHUB_LOGIN}>\r\n                {' Log in with Github'}\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div className=\"stars-login\">\r\n            <div id=\"stars\"></div>\r\n            <div id=\"stars2\"></div>\r\n            <div id=\"stars3\"></div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {userState.name !== '' ? <a href=\"/logout\">logout</a> : <div> </div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}