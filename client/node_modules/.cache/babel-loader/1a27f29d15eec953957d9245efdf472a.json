{"ast":null,"code":"export const SET_APPLICATION_DATA = \"SET_APPLICATION_DATA\";\nexport const SET_CURRENT_PROJECT = \"SET_CURRENT_PROJECT\";\nexport const SET_TASK_STATUS = \"SET_TASK_STATUS\";\nexport const SET_TASK_PRIORITY = \"SET_TASK_PRIORITY\";\nexport const ADD_CREATED_PROJECT = \"ADD_CREATED_PROJECT\";\nexport default function applicationDataReducer(state, action) {\n  if (reducers[action.type]) {\n    return reducers[action.type](state, action);\n  }\n\n  throw new Error(`Tried to reduce with unsupported action type: ${action.type}`);\n}\n\nconst setApplicationData = (state, action) => {\n  let tasks = [];\n\n  if (action.value.tasks) {\n    tasks = giveTasksIndices(action.value.tasks);\n  }\n\n  const newState = { ...state,\n    users: action.value.users,\n    projects: action.value.projects,\n    projectTeams: action.value.projectTeams,\n    tasks: tasks.length > 0 ? tasks : action.value.tasks,\n    taskTeams: action.value.taskTeams\n  };\n  return newState;\n};\n\nconst setCurrentProject = (state, action) => {\n  const tasks = giveTasksIndices(action.tasks);\n  const newState = { ...state,\n    current_project: action.id,\n    tasks: tasks\n  };\n  return newState;\n};\n\nconst addCreatedProject = (state, action) => {\n  return { ...state,\n    current_project: action.project.id,\n    projects: [...state.projects, action.project],\n    tasks: [],\n    projectTeams: action.projectTeams\n  };\n};\n\nconst updateTaskStatus = (state, action) => {\n  const tasks = giveTasksIndices(action.tasks);\n  const newState = { ...state,\n    tasks: tasks\n  };\n  return newState;\n};\n\nconst updateTaskPriority = (state, action) => {\n  const tasks = giveTasksIndices(action.tasks);\n  const newState = { ...state,\n    tasks: tasks\n  };\n  return newState;\n};\n\nconst giveTasksIndices = tasks => {\n  if (tasks.length === 0) {\n    return [];\n  }\n\n  const column1 = tasks.filter(task => task.currentStatus === 3).map((task, index) => {\n    return { ...task,\n      columnIndex: index\n    };\n  });\n  const column2 = tasks.filter(task => task.currentStatus === 0).map((task, index) => {\n    return { ...task,\n      columnIndex: index\n    };\n  });\n  const column3 = tasks.filter(task => task.currentStatus === 1).map((task, index) => {\n    return { ...task,\n      columnIndex: index\n    };\n  });\n  const column4 = tasks.filter(task => task.currentStatus === 2).map((task, index) => {\n    return { ...task,\n      columnIndex: index\n    };\n  });\n  const newTasks = column1.concat(column2, column3, column4);\n  const sortedTasks = newTasks.sort((a, b) => {\n    return a.id - b.id;\n  });\n  return sortedTasks;\n};\n\nconst reducers = {\n  SET_APPLICATION_DATA: setApplicationData,\n  SET_CURRENT_PROJECT: setCurrentProject,\n  SET_TASK_STATUS: updateTaskStatus,\n  SET_TASK_PRIORITY: updateTaskPriority,\n  ADD_CREATED_PROJECT: addCreatedProject\n};","map":{"version":3,"sources":["E:/000gitRepositorios/WorkCodeForge/client/src/reducers/applicationDataReducer.js"],"names":["SET_APPLICATION_DATA","SET_CURRENT_PROJECT","SET_TASK_STATUS","SET_TASK_PRIORITY","ADD_CREATED_PROJECT","applicationDataReducer","state","action","reducers","type","Error","setApplicationData","tasks","value","giveTasksIndices","newState","users","projects","projectTeams","length","taskTeams","setCurrentProject","current_project","id","addCreatedProject","project","updateTaskStatus","updateTaskPriority","column1","filter","task","currentStatus","map","index","columnIndex","column2","column3","column4","newTasks","concat","sortedTasks","sort","a","b"],"mappings":"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","sourcesContent":["export const SET_APPLICATION_DATA = \"SET_APPLICATION_DATA\";\r\nexport const SET_CURRENT_PROJECT = \"SET_CURRENT_PROJECT\";\r\nexport const SET_TASK_STATUS = \"SET_TASK_STATUS\";\r\nexport const SET_TASK_PRIORITY = \"SET_TASK_PRIORITY\";\r\nexport const ADD_CREATED_PROJECT = \"ADD_CREATED_PROJECT\";\r\n\r\nexport default function applicationDataReducer(state, action) {\r\n  if (reducers[action.type]) {\r\n    return reducers[action.type](state, action);\r\n  }\r\n\r\n  throw new Error(\r\n    `Tried to reduce with unsupported action type: ${action.type}`\r\n  );\r\n}\r\n\r\nconst setApplicationData = (state, action) => {\r\n  let tasks = [];\r\n  if (action.value.tasks) {\r\n    tasks = giveTasksIndices(action.value.tasks);\r\n  }\r\n\r\n  const newState = {\r\n    ...state,\r\n    users: action.value.users,\r\n    projects: action.value.projects,\r\n    projectTeams: action.value.projectTeams,\r\n    tasks: tasks.length > 0 ? tasks : action.value.tasks,\r\n    taskTeams: action.value.taskTeams,\r\n  };\r\n\r\n  return newState;\r\n};\r\n\r\nconst setCurrentProject = (state, action) => {\r\n  const tasks = giveTasksIndices(action.tasks);\r\n\r\n  const newState = {\r\n    ...state,\r\n    current_project: action.id,\r\n    tasks: tasks,\r\n  };\r\n\r\n  return newState;\r\n};\r\n\r\nconst addCreatedProject = (state, action) => {\r\n  return {\r\n    ...state,\r\n    current_project: action.project.id,\r\n    projects: [...state.projects, action.project],\r\n    tasks: [],\r\n    projectTeams: action.projectTeams,\r\n  };\r\n};\r\n\r\nconst updateTaskStatus = (state, action) => {\r\n  const tasks = giveTasksIndices(action.tasks);\r\n  const newState = {\r\n    ...state,\r\n    tasks: tasks,\r\n  };\r\n\r\n  return newState;\r\n};\r\n\r\nconst updateTaskPriority = (state, action) => {\r\n  const tasks = giveTasksIndices(action.tasks);\r\n  const newState = {\r\n    ...state,\r\n    tasks: tasks,\r\n  };\r\n\r\n  return newState;\r\n};\r\n\r\nconst giveTasksIndices = (tasks) => {\r\n  if (tasks.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const column1 = tasks\r\n    .filter((task) => task.currentStatus === 3)\r\n    .map((task, index) => {\r\n      return { ...task, columnIndex: index };\r\n    });\r\n  const column2 = tasks\r\n    .filter((task) => task.currentStatus === 0)\r\n    .map((task, index) => {\r\n      return { ...task, columnIndex: index };\r\n    });\r\n  const column3 = tasks\r\n    .filter((task) => task.currentStatus === 1)\r\n    .map((task, index) => {\r\n      return { ...task, columnIndex: index };\r\n    });\r\n  const column4 = tasks\r\n    .filter((task) => task.currentStatus === 2)\r\n    .map((task, index) => {\r\n      return { ...task, columnIndex: index };\r\n    });\r\n\r\n  const newTasks = column1.concat(column2, column3, column4);\r\n\r\n  const sortedTasks = newTasks.sort((a, b) => {\r\n    return a.id - b.id;\r\n  });\r\n\r\n  return sortedTasks;\r\n};\r\n\r\nconst reducers = {\r\n  SET_APPLICATION_DATA: setApplicationData,\r\n  SET_CURRENT_PROJECT: setCurrentProject,\r\n  SET_TASK_STATUS: updateTaskStatus,\r\n  SET_TASK_PRIORITY: updateTaskPriority,\r\n  ADD_CREATED_PROJECT: addCreatedProject,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}