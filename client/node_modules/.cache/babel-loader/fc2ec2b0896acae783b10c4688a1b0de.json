{"ast":null,"code":"import { useReducer } from 'react';\nimport dataFetchReducer from '../reducers/dataFetchReducer';\n\nvar useApi = function useApi() {\n  var _useReducer = useReducer(dataFetchReducer, {\n    loading: false,\n    error: false,\n    data: [],\n    lastPage: false\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var fetchImages = function fetchImages(url, isMore) {\n    if (isMore) {\n      dispatch({\n        type: 'FETCH_MORE_INIT'\n      });\n    } else {\n      dispatch({\n        type: 'FETCH_INIT'\n      });\n    }\n\n    fetch(url).then(function (response) {\n      if (!response.ok) {\n        return response.json().then(function (json) {\n          throw json;\n        });\n      }\n\n      return response.json();\n    }).then(function (response) {\n      if (!response.pagination) {\n        return dispatch({\n          type: 'FETCH_FAILURE'\n        });\n      }\n\n      if (isMore) {\n        return dispatch({\n          type: 'FETCH_MORE_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      }\n\n      return dispatch({\n        type: 'FETCH_SUCCESS',\n        payload: response.data,\n        pagination: response.pagination\n      });\n    }).catch(function () {\n      dispatch({\n        type: 'FETCH_FAILURE'\n      });\n    });\n  };\n\n  return [state, fetchImages];\n};\n\nexport default useApi;","map":{"version":3,"sources":["C:/00001_Arquivos/0002_gitHub/WorkLand_old1/client/node_modules/react-giphy-searchbox/es/hooks/useApi.js"],"names":["useReducer","dataFetchReducer","useApi","_useReducer","loading","error","data","lastPage","state","dispatch","fetchImages","url","isMore","type","fetch","then","response","ok","json","pagination","payload","catch"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;;AAEA,IAAIC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,MAAIC,WAAW,GAAGH,UAAU,CAACC,gBAAD,EAAmB;AAC7CG,IAAAA,OAAO,EAAE,KADoC;AAE7CC,IAAAA,KAAK,EAAE,KAFsC;AAG7CC,IAAAA,IAAI,EAAE,EAHuC;AAI7CC,IAAAA,QAAQ,EAAE;AAJmC,GAAnB,CAA5B;AAAA,MAMIC,KAAK,GAAGL,WAAW,CAAC,CAAD,CANvB;AAAA,MAOIM,QAAQ,GAAGN,WAAW,CAAC,CAAD,CAP1B;;AASA,MAAIO,WAAW,GAAG,SAASA,WAAT,CAAqBC,GAArB,EAA0BC,MAA1B,EAAkC;AAClD,QAAIA,MAAJ,EAAY;AACVH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAFD,MAEO;AACLJ,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD;;AAEDC,IAAAA,KAAK,CAACH,GAAD,CAAL,CAAWI,IAAX,CAAgB,UAAUC,QAAV,EAAoB;AAClC,UAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,eAAOD,QAAQ,CAACE,IAAT,GAAgBH,IAAhB,CAAqB,UAAUG,IAAV,EAAgB;AAC1C,gBAAMA,IAAN;AACD,SAFM,CAAP;AAGD;;AAED,aAAOF,QAAQ,CAACE,IAAT,EAAP;AACD,KARD,EAQGH,IARH,CAQQ,UAAUC,QAAV,EAAoB;AAC1B,UAAI,CAACA,QAAQ,CAACG,UAAd,EAA0B;AACxB,eAAOV,QAAQ,CAAC;AAAEI,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAf;AACD;;AAED,UAAID,MAAJ,EAAY;AACV,eAAOH,QAAQ,CAAC;AACdI,UAAAA,IAAI,EAAE,oBADQ;AAEdO,UAAAA,OAAO,EAAEJ,QAAQ,CAACV,IAFJ;AAGda,UAAAA,UAAU,EAAEH,QAAQ,CAACG;AAHP,SAAD,CAAf;AAKD;;AAED,aAAOV,QAAQ,CAAC;AACdI,QAAAA,IAAI,EAAE,eADQ;AAEdO,QAAAA,OAAO,EAAEJ,QAAQ,CAACV,IAFJ;AAGda,QAAAA,UAAU,EAAEH,QAAQ,CAACG;AAHP,OAAD,CAAf;AAKD,KA1BD,EA0BGE,KA1BH,CA0BS,YAAY;AACnBZ,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KA5BD;AA6BD,GApCD;;AAsCA,SAAO,CAACL,KAAD,EAAQE,WAAR,CAAP;AACD,CAjDD;;AAmDA,eAAeR,MAAf","sourcesContent":["import { useReducer } from 'react';\nimport dataFetchReducer from '../reducers/dataFetchReducer';\n\nvar useApi = function useApi() {\n  var _useReducer = useReducer(dataFetchReducer, {\n    loading: false,\n    error: false,\n    data: [],\n    lastPage: false\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var fetchImages = function fetchImages(url, isMore) {\n    if (isMore) {\n      dispatch({ type: 'FETCH_MORE_INIT' });\n    } else {\n      dispatch({ type: 'FETCH_INIT' });\n    }\n\n    fetch(url).then(function (response) {\n      if (!response.ok) {\n        return response.json().then(function (json) {\n          throw json;\n        });\n      }\n\n      return response.json();\n    }).then(function (response) {\n      if (!response.pagination) {\n        return dispatch({ type: 'FETCH_FAILURE' });\n      }\n\n      if (isMore) {\n        return dispatch({\n          type: 'FETCH_MORE_SUCCESS',\n          payload: response.data,\n          pagination: response.pagination\n        });\n      }\n\n      return dispatch({\n        type: 'FETCH_SUCCESS',\n        payload: response.data,\n        pagination: response.pagination\n      });\n    }).catch(function () {\n      dispatch({ type: 'FETCH_FAILURE' });\n    });\n  };\n\n  return [state, fetchImages];\n};\n\nexport default useApi;"]},"metadata":{},"sourceType":"module"}