{"version":3,"file":"react-guitar.cjs.production.min.js","sources":["../src/hooks/layoutEffect.ts","../src/util/arrays.ts","../src/util/theme.ts","../src/styles/index.ts","../src/index.tsx"],"sourcesContent":["import { useEffect, useLayoutEffect } from 'react'\n\nexport default typeof window !== 'undefined' ? useLayoutEffect : useEffect\n","export function set<T>(array: T[], pos: number, item: T): T[] {\n  const newArray = array.slice(0)\n  newArray[pos] = item\n  return newArray\n}\n","export type Theme = {\n  description: string\n  color: string\n  nut: { color: string }\n  fret: {\n    color: string\n    separator: {\n      color: string\n      radius?: boolean\n      shadow?: boolean\n      width?: 'sm' | 'md'\n    }\n    marker?: (fret: number) => JSX.Element | null\n    counter: { color: string }\n  }\n  string: { color: (string: number) => string }\n  finger: { text: { color: string }; color: string }\n}\nconst makeTheme = (theme: Theme) => theme\n\nexport default makeTheme({\n  description:\n    'A typical Spanish guitar with a brown fretboard and golden details',\n  color: '#333333',\n  nut: { color: '#fffacd' },\n  fret: {\n    color: '#9e6429',\n    separator: { color: '#daa520', shadow: true },\n    counter: { color: '#606c76' },\n  },\n  string: { color: () => '#eeeeee' },\n  finger: { text: { color: '#606c76' }, color: 'white' },\n})\n","import { css } from '@emotion/react'\nimport { Theme } from '..'\nimport color from 'color'\n\nconst sw = (theme: Theme) => (theme.fret.separator.width === 'md' ? 0.7 : 0.3)\nconst stringHeight = 3.33125\n\nexport default (theme: Theme) =>\n  css({\n    fontFamily: \"'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n    position: 'relative',\n    boxSizing: 'border-box',\n    maxWidth: '100%',\n    overflowY: 'auto',\n    borderTopColor: theme.color,\n    borderTopStyle: 'solid',\n    borderTopWidth: '0.5em',\n    overscrollBehaviorX: 'none',\n\n    '&.lefty': {\n      direction: 'rtl',\n      '.marker': {\n        transform: 'scale(-1, 1)',\n      },\n      '.mute': {\n        left: 'auto',\n        right: 0,\n      },\n    },\n\n    '*, *::before, *::after': {\n      boxSizing: 'border-box',\n    },\n\n    '.frets': {\n      display: 'flex',\n      position: 'relative',\n      '.fret': {\n        width: '10em',\n        flexShrink: 0,\n        position: 'relative',\n        '&.nut,&.mute': {\n          width: '7em',\n        },\n        '&.mute': {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n        },\n      },\n    },\n\n    '.frame': {\n      height: '2em',\n      '.counter': {\n        fontWeight: 'bold',\n        color: theme.fret.counter.color,\n      },\n      '.fret': {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: theme.color,\n      },\n    },\n\n    '.strings': {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      position: 'relative',\n      minHeight: `${stringHeight * 3}em`,\n\n      '.string': {\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        '.fret': {\n          display: 'flex',\n          alignItems: 'center',\n\n          '.actual-string': {\n            transition: 'opacity ease-in-out 0.1s',\n            content: '\"\"',\n            width: '100%',\n            height: '0.65em',\n            position: 'absolute',\n            left: '0',\n          },\n\n          label: {\n            fontSize: '1em',\n            width: '100%',\n            height: `${stringHeight}em`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: 0,\n          },\n\n          '&:hover input:not(:disabled):not(:checked) ~ .finger': {\n            opacity: 0.5,\n          },\n\n          'input:not(:disabled)': {\n            height: '100%',\n            width: '100%',\n          },\n\n          'input:not(:disabled),input:not(:disabled) ~ .finger': {\n            cursor: 'pointer',\n          },\n\n          input: {\n            position: 'absolute',\n            margin: 0,\n            opacity: 0,\n            '&:checked ~ .finger': {\n              opacity: 1,\n            },\n            '&:focus:not(:disabled) ~ .finger': {\n              boxShadow: '0 0 0 0.2em rgba(66, 153, 225, 0.5)',\n            },\n          },\n          '&.mute': {\n            'input:checked ~ .finger': {\n              opacity: 0,\n            },\n            'input:focus ~ .finger,&:hover input:checked ~ .finger': {\n              opacity: 0.5,\n            },\n          },\n        },\n      },\n    },\n\n    '.fretboard': {\n      position: 'absolute',\n      left: '0',\n      right: '0',\n      top: '0',\n      bottom: '0',\n      '.fret': {\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        alignItems: 'center',\n        justifyContent: 'end',\n        backgroundColor: theme.fret.color,\n        '&.nut': {\n          backgroundColor: theme.nut.color,\n        },\n        '&:not(.nut)::before': {\n          content: '\"\"',\n          position: 'absolute',\n          top: '0',\n          bottom: '0',\n          width: `${sw(theme)}em`,\n          backgroundColor: theme.fret.separator.color,\n          borderRight: theme.fret.separator.shadow\n            ? `solid ${sw(theme) / 2}em ${color(\n                theme.fret.separator.color\n              ).darken(0.1)}`\n            : 0,\n          borderRadius: theme.fret.separator.radius ? '3px' : 0,\n          display: 'inline-block',\n        },\n        '.marker': {\n          position: 'absolute',\n          left: '0',\n          right: '0',\n          top: '0',\n          bottom: '0',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        },\n      },\n    },\n\n    '.finger': {\n      color: theme.finger.text.color,\n      transition: 'opacity ease-in-out 0.1s',\n      background: theme.finger.color,\n      width: '5em',\n      padding: '0',\n      height: `${3.5 / 1.5}em`,\n      borderRadius: '20px',\n      borderBottom: `solid 0.2em ${color(theme.finger.color).darken(0.35)}`,\n      boxShadow: '0 1px 2px rgba(0, 0, 0, 0.16), 0 1px 2px rgba(0, 0, 0, 0.23)',\n      fontWeight: 'bold',\n      opacity: 0,\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      position: 'relative',\n    },\n\n    '.sr-only': {\n      position: 'absolute',\n      width: '1px',\n      height: '1px',\n      padding: 0,\n      margin: '-1px',\n      overflow: 'hidden',\n      clip: 'rect(0, 0, 0, 0)',\n      whiteSpace: 'nowrap',\n      borderWidth: 0,\n    },\n  })\n","/** @jsx jsx */\nimport { jsx } from '@emotion/react'\nimport { useRef, Fragment, useMemo, ReactElement, useState } from 'react'\nimport useLayoutEffect from './hooks/layoutEffect'\nimport range from 'lodash.range'\nimport uniqueId from 'lodash.uniqueid'\nimport { set } from './util/arrays'\nimport classNames from 'classnames'\nimport { get, fromMidiSharps } from '@tonaljs/note'\nimport { fromSemitones } from '@tonaljs/interval'\nimport spanishTheme, { Theme } from './util/theme'\nimport getStyles from './styles'\nimport color from 'color'\nimport { getKey } from 'keyboard-key'\n\nexport { spanishTheme, Theme }\n\nexport function getRenderFingerSpn(tuning: number[]) {\n  return (string: number, fret: number) => {\n    const { letter, acc, oct } = get(fromMidiSharps(tuning[string] + fret))\n    return (\n      <span>\n        {letter}\n        {acc === '#' ? '♯' : acc === 'b' ? '♭' : ''}\n        <sub aria-label={`octave ${oct}`}>{oct}</sub>\n      </span>\n    )\n  }\n}\n\nconst mod = (n: number, m: number) => (m + (n % m)) % m\n\nexport function getRenderFingerRelative(tuning: number[], root: number) {\n  return (string: number, fret: number) => (\n    <Fragment>\n      {range(12).map(fromSemitones)[mod(tuning[string] + fret - root, 12)]}\n    </Fragment>\n  )\n}\n\nfunction Frets(props: {\n  className?: string\n  currentFret?: number\n  frets: {\n    from: number\n    amount: number\n  }\n  children?: (fret: number) => ReactElement | ReactElement[] | null\n  onMouseEnter?: () => void\n}) {\n  const { from, amount } = props.frets\n  return (\n    <div\n      className={classNames(props.className, 'frets')}\n      onMouseEnter={props.onMouseEnter}\n    >\n      {props.currentFret !== undefined && (\n        <div\n          className=\"fret mute\"\n          style={{ zIndex: props.currentFret === -1 ? 1 : undefined }}\n        >\n          {props.children?.(-1)}\n        </div>\n      )}\n      {range(from, from + amount + 1).map((fret) => (\n        <div className={classNames('fret', { nut: fret === 0 })} key={fret}>\n          {props.children?.(fret)}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default function Guitar(props: {\n  id?: string\n  className?: string\n  strings?: number[]\n  frets?: {\n    from: number\n    amount: number\n  }\n  lefty?: boolean\n  center?: boolean\n  renderFinger?: (string: number, fret: number) => JSX.Element\n  theme?: Theme\n  playOnHover?: boolean\n  onChange?: (strings: number[]) => void\n  onPlay?: (string: number) => void\n}) {\n  const {\n    strings = [],\n    frets = { from: 0, amount: 22 },\n    lefty = false,\n    center = false,\n    renderFinger,\n    theme = spanishTheme,\n    playOnHover,\n  } = props\n  const id = useMemo(() => props.id || uniqueId('guitar-'), [props.id])\n  const styles = useMemo(() => getStyles(theme), [theme])\n  const ref = useRef(null as HTMLDivElement | null)\n  const focusString = (string: number, fret: number = strings[string]) =>\n    ref.current\n      ?.querySelector?.<HTMLInputElement>(\n        `input[name=\"${id}-string-${string}\"][value=\"${fret}\"]`\n      )\n      ?.focus()\n  const releaseString = (string: number) =>\n    pressString(string, strings[string] === 0 ? -1 : 0)\n  const pressString = (string: number, fret: number) => {\n    focusString(string, fret)\n    props.onChange?.(set(strings, string, fret))\n  }\n  const getNavigationDelta = (e: KeyboardEvent) => {\n    switch (getKey(e)) {\n      case 'ArrowDown':\n        return { x: 0, y: 1 }\n      case 'ArrowUp':\n        return { x: 0, y: -1 }\n      case 'ArrowRight':\n        return { x: lefty ? -1 : 1, y: 0 }\n      case 'ArrowLeft':\n        return { x: lefty ? 1 : -1, y: 0 }\n      default:\n        return null\n    }\n  }\n  useLayoutEffect(() => {\n    const fretsNode = ref.current\n    if (center && fretsNode) {\n      const children = fretsNode.querySelectorAll('.fret')\n      const pressedFrets = strings.filter((fret) => fret > 0)\n      const minFret = Math.min.apply(Math, pressedFrets)\n      const maxFret = Math.max.apply(Math, pressedFrets)\n      const toFret = minFret + Math.floor((maxFret - minFret) / 2)\n      const fretNode = children[toFret] as HTMLElement | undefined\n      if (fretNode) {\n        fretsNode.scrollLeft =\n          fretNode.offsetLeft -\n          fretsNode.offsetWidth / 2 +\n          fretNode.offsetWidth / 2\n      }\n    }\n  }, [ref, strings, center, lefty])\n  const [focusedString, setFocusedString] = useState(0)\n  return (\n    <div\n      id={id}\n      ref={ref}\n      css={styles}\n      className={classNames('guitar', { lefty }, props.className)}\n      onKeyDown={(e) => {\n        const delta = getNavigationDelta(e.nativeEvent)\n        if (delta) {\n          const string = mod(focusedString + delta.y, strings.length)\n          const fret = strings[string] + delta.x\n          pressString(\n            string,\n            fret > frets.from + frets.amount\n              ? -1\n              : fret < -1\n              ? frets.from + frets.amount\n              : fret\n          )\n          e.preventDefault()\n        }\n      }}\n    >\n      <div className=\"sr-only\">\n        This is a guitar with {strings.length} strings and {frets.amount} frets,\n        starting from {frets.from}. Its theme describes it as:{' '}\n        {theme.description}.\n        {props.onChange && (\n          <span>\n            Once you focus on a string you will be able to navigate strings and\n            frets using the arrow keys.\n          </span>\n        )}\n        {props.onPlay && (\n          <span>\n            When a specific string is focused you can play it by pressing 'p'.\n          </span>\n        )}\n      </div>\n      <div className=\"sr-only\" role=\"status\">\n        Current fretting: {strings.join(', ')}.\n      </div>\n      <div className=\"strings\">\n        <Frets className=\"fretboard\" frets={frets}>\n          {theme.fret.marker\n            ? (fret) => (\n                <div className=\"marker\">{theme.fret.marker?.(fret)}</div>\n              )\n            : undefined}\n        </Frets>\n        {strings.map((currentFret, string) => (\n          <fieldset key={string} className=\"string\">\n            <legend className=\"sr-only\">\n              String {string + 1}.{' '}\n              {currentFret === -1 && 'This string is muted.'}\n            </legend>\n            <Frets\n              currentFret={currentFret}\n              frets={frets}\n              onMouseEnter={() => playOnHover && props.onPlay?.(string)}\n            >\n              {(fret) => (\n                <label>\n                  <span className=\"sr-only\">\n                    Fret {fret} {fret === -1 && '(Mute)'}.\n                  </span>\n                  {fret >= 0 && (\n                    <span\n                      className=\"actual-string\"\n                      style={{\n                        opacity: currentFret === -1 ? 0.2 : 1,\n                        borderBottom: `solid 0.2em ${color(\n                          theme.string.color(string)\n                        ).darken(0.35)}`,\n                        backgroundColor: theme.string.color(string),\n                      }}\n                    />\n                  )}\n                  <input\n                    disabled={!props.onChange}\n                    type=\"radio\"\n                    name={`${id}-string-${string}`}\n                    value={fret}\n                    checked={currentFret === fret}\n                    onChange={(e) => {\n                      props.onChange?.(set(strings, string, fret))\n                      e.target.focus()\n                    }}\n                    onClick={() =>\n                      fret === currentFret && releaseString(string)\n                    }\n                    onKeyDown={(e) => {\n                      switch (e.keyCode) {\n                        case 80:\n                          props.onPlay?.(string)\n                          break\n                        case 13:\n                          releaseString(string)\n                          e.preventDefault()\n                      }\n                    }}\n                    onFocus={() => setFocusedString(string)}\n                  />\n                  <span className=\"finger\">\n                    {renderFinger?.(string, fret === -1 ? 0 : fret)}\n                  </span>\n                </label>\n              )}\n            </Frets>\n          </fieldset>\n        ))}\n      </div>\n      <Frets className=\"frame\" frets={frets}>\n        {(fret) =>\n          fret !== 0 ? <span className=\"counter\">{fret}</span> : null\n        }\n      </Frets>\n    </div>\n  )\n}\n"],"names":["window","useLayoutEffect","useEffect","set","array","pos","item","newArray","slice","theme","description","color","nut","fret","separator","shadow","counter","string","finger","text","makeTheme","sw","width","mod","n","m","Frets","props","frets","from","amount","jsx","className","classNames","onMouseEnter","undefined","currentFret","style","zIndex","children","range","map","key","strings","lefty","center","renderFinger","spanishTheme","playOnHover","id","useMemo","uniqueId","styles","css","fontFamily","position","boxSizing","maxWidth","overflowY","borderTopColor","borderTopStyle","borderTopWidth","overscrollBehaviorX","direction","transform","left","right","display","flexShrink","top","height","fontWeight","alignItems","justifyContent","background","flexDirection","minHeight","margin","padding","border","transition","content","label","fontSize","stringHeight","opacity","cursor","input","boxShadow","bottom","backgroundColor","borderRight","darken","borderRadius","radius","borderBottom","overflow","clip","whiteSpace","borderWidth","getStyles","ref","useRef","releaseString","pressString","current","_ref$current","querySelector","_ref$current$querySel","focus","focusString","onChange","fretsNode","querySelectorAll","pressedFrets","filter","minFret","Math","min","apply","maxFret","max","fretNode","floor","scrollLeft","offsetLeft","offsetWidth","useState","focusedString","setFocusedString","onKeyDown","e","delta","getKey","x","y","getNavigationDelta","nativeEvent","length","preventDefault","onPlay","role","join","marker","disabled","type","name","value","checked","target","onClick","keyCode","onFocus","tuning","root","Fragment","fromSemitones","get","fromMidiSharps","acc","oct","letter"],"mappings":"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"}